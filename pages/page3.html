<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
  
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">

  
  <meta http-equiv="content-type" content="text/html; utf-8">
  <title>Lab 3</title>

  
  
  <script src="https://api.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.js"></script>
  
  <link href="https://api.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.css" rel="stylesheet">

  
  <style>.mapboxgl-popup {max-width: 400px; font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;}</style>
</head><body style="background-image: url(../images/bak.png);">
<table style="width: 100%; height: 100%; text-align: left; margin-left: auto; margin-right: auto;" border="0" cellpadding="0" cellspacing="0">

  <tbody>
    <tr>
      <td style="width: 250px; vertical-align: top; text-align: center; background-color: white;">
      <h1><tt><font color="#333333" face="Calibri">Lab 3</font></tt></h1>
      <span style="font-style: italic; font-family: Calibri; font-weight: bold; color: rgb(51, 51, 51);">Great
Walks of New Zealand</span><br>
      <br>
      <br>
      <table style="width: 100%;" border="0" cellpadding="0" cellspacing="0">
        <tbody>
          <tr align="center">
            <td style="vertical-align: top; background-color: white;"> <a href="../index.html"><font color="#333333" face="Calibri"><button type="button"> Home</button> </font></a></td>
          </tr>
          <tr align="center">
            <td valign="top"><a href="page2.html"><button type="button">Lab
2</button></a></td>
          </tr>
          <tr align="center">
            <td valign="top"><a href="page4.html"><button type="button">Lab
4</button></a></td>
          </tr>
          <tr align="center">
            <td valign="top"><a href="page5.html"><button type="button">Lab
5</button></a></td>
          </tr>
          <tr align="center">
            <td valign="top"><a href="project.html"><button type="button">Project</button></a></td>
          </tr>
        </tbody>
      </table>
      <a href="http://www.freepik.com/"><img title="Selected by freepik" style="border: 0px solid ; width: 250px; height: 250px;" alt="http://www.freepik.com" src="../images/O9FG4R0.jpg" hspace="0" vspace="0"></a>
      <div style="text-align: center;"><small><span style="font-family: Calibri;"><small>Image used under license, freepik
2016</small><br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
<br>
      <br>
      <br>
      <br>
      </span></small></div>
      </td>
      <td style="vertical-align: top; height: 100%; width: 50%;">
      <div id="map" style="width: 100%; height: 100%;"></div>
      <script>
mapboxgl.accessToken = 'pk.eyJ1IjoiYW5kcmV3ODQ1NTUiLCJhIjoiY2lydnp2Nzk3MGoza2ZnbTh1b2FoenFqYSJ9.iPSB6vUKQLifDYV570B8zg';
var map = new mapboxgl.Map({
container: 'map',
style: "mapbox://styles/andrew84555/cirwnrt3c003igbmfgvm1zpxv",
center: [172.6, -42.4],
zoom: 5.35
});
      </script>
      <br>
      </td>
      <td style="vertical-align: top; height: 100%; width: 50%;">
      <div id="newmap" style="width: 100%; height: 100%;"></div>  
      <script>
mapboxgl.accessToken = 'pk.eyJ1IjoiYW5kcmV3ODQ1NTUiLCJhIjoiY2lydnp2Nzk3MGoza2ZnbTh1b2FoenFqYSJ9.iPSB6vUKQLifDYV570B8zg';
var newmap = new mapboxgl.Map({
container: 'newmap',
style: "mapbox://styles/andrew84555/cis6rl0xc000ggslwb5m52hbv",
center: [172.6, -42.4],
zoom: 5.35
});

newmap.on('load', function () {
    newmap.addSource('greatwalks-b2tjhc', {
        type: 'vector',
        url: 'mapbox://andrew84555.6o04kflm'
    });
newmap.addSource("markers", {
        "type": "geojson",
        "data": {
            "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/nelson-tasman/places/kahurangi-national-park/things-to-do/tracks/heaphy-track/\" target=\"_blank\"><strong>Heaphy Track</strong><p></a>Travel through expansive tussock downs, lush forests and Nikau palms to the roaring seas of the West Coast. </p>",
        "marker-symbol": "location",
        "title": "Heaphy Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          172.1399688720703,
          -40.95864123118628
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/nelson-tasman/places/abel-tasman-national-park/things-to-do/tracks/abel-tasman-coast-track/\" target=\"_blank\"><strong>Abel Tasman Coast Track</strong><p></a>Blessed with a mild climate, golden beaches and lush coastal native bush, the Abel Tasman Coast Track has it all.</p>",
        "marker-symbol": "location",
        "title": "Abel Tasman Coast Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          173.04977416992188,
          -40.89093668840453
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/fiordland/places/fiordland-national-park/things-to-do/tracks/routeburn-track/\" target=\"_blank\"><strong>Routeburn Track</strong><p></a>This is the ultimate alpine adventure, weaving through meadows, reflective tarns and alpine gardens. You'll be rewarded with spectacular vistas over vast mountain ranges and valleys.</p>",
        "marker-symbol": "location",
        "title": "Routeburn Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          168.1670379638672,
          -44.74063700433039
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/fiordland/places/fiordland-national-park/things-to-do/tracks/milford-track/\" target=\"_blank\"><strong>Milford Track</strong><p></a>Experience 'the finest walk in the world' as you retrace the steps of early explorers on the world-renowed Milford Track. Take a journey along valleys carved by glaciers, wander through ancient rainforests and admire cascading waterfalls.</p>",
        "marker-symbol": "location",
        "title": "Milford Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          167.78388977050778,
          -44.79255634014765
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/fiordland/places/fiordland-national-park/things-to-do/tracks/kepler-track/\" target=\"_blank\"><strong>Kepler Track</strong><p></a>Vast tussock-covered ridgelines and spectacular alpine vistas contrast with peaceful lakeside and valley beech forest in this wilderness adventure.</p>",
        "marker-symbol": "location",
        "title": "Kepler Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          167.59918212890625,
          -45.4748180391134
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/southland/places/stewart-island-rakiura/rakiura-national-park/\" target=\"_blank\"><strong>Rakiura Track</strong><p></a>Rakiura National Park is located on Stewart Island/Rakiura. It encompasses a network of former nature reserves, scenic reserves, and state forest areas.</p>",
        "marker-symbol": "location",
        "title": "Rakiura Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          168.06129455566406,
          -46.87333582901025
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/manawatu-whanganui/places/whanganui-national-park/things-to-do/tracks/whanganui-journey/\" target=\"_blank\"><strong>Whanganui Journey</strong><p></a>Explore the scenic beauty paddling up the Whanganui River, a landscape of remote hills and bush clad valleys.</p>",
        "marker-symbol": "location",
        "title": "Whanganui Journey"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          175.1275634765625,
          -39.591932136203184
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/central-north-island/places/tongariro-national-park/things-to-do/tracks/round-the-mountain-track/\" target=\"_blank\"><strong>Round the Mountain Track</strong><p></a>The Round the Mountain Track showcases the varied volcanic landscapes and alpine vegetation on the flanks of the active volcano Mount Ruapehu. It's a more remote alternative to the Tongariro Northern Circuit Great Walk.</p>",
        "marker-symbol": "location",
        "title": "Round the Mountain Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          175.62881469726562,
          -39.288608474199414
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
                "description": "<a href=\"http://www.doc.govt.nz/parks-and-recreation/places-to-go/east-coast/places/te-urewera/things-to-do/tracks/lake-waikaremoana-great-walk/\" target=\"_blank\"><strong>Lake Waikaremoana Great Walk</strong><p></a>Trace the shoreline of Lake Waikaremoana, the 'sea of rippling waters.' Pass giant podocarp trees and remote beaches, and enjoy breathtaking views from Panekire Bluff.</p>",
        "marker-symbol": "location",
        "title": "Lake Waikaremoana Great Walk"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          176.99386596679688,
          -38.81028585091164]
                },
            }]
        }
    });
newmap.addLayer({
        "id": 'greatwalks-b2tjhc',
        "type": "line",
        "source": 'greatwalks-b2tjhc',
        "source-layer": 'greatwalks-b2tjhc',
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#ff0000",
            "line-width": 1
        }
            
    });
newmap.addLayer({
        "id": "markers",
        "type": "symbol",
        "source": "markers",
        "layout": {
            "icon-image": "location",
        }
     });

newmap.addLayer({
        "id": "labels",
        "type": "symbol",
        "source": "markers",
        "layout": {
            "text-field": "{title}",
            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
            "text-size": 15,
            "text-anchor": "top"
        }
     });

newmap.on('click', function (e) {
var features = newmap.queryRenderedFeatures(e.point, { layers: ['markers'] });
if (features.length) {
newmap.flyTo({center: features[0].geometry.coordinates, zoom: 10});
}
});


newmap.setLayerZoomRange('greatwalks-b2tjhc', 8, 22);
newmap.setLayerZoomRange('markers', 0, 8);
newmap.setLayerZoomRange('labels', 8, 22);
});

//mouseover stuff

var popup = new mapboxgl.Popup({
    closeButton: false,
    closeOnClick: false
});

newmap.on('mousemove', function (e) {
var features = newmap.queryRenderedFeatures(e.point, { layers: ['markers'] });
newmap.getCanvas().style.cursor = features.length ? 'pointer' : '';
    if (!features.length) {
        popup.remove();
        return;
    }

    var feature = features[0];

    popup.setLngLat(feature.geometry.coordinates)
        .setHTML(feature.properties.description)
        .addTo(newmap);

});


      </script>
      <br>
      </td>
    </tr>
  </tbody>
</table>

<table style="text-align: left; width: 100%; height: 50%; margin-left: auto; margin-right: auto; background-color: white;" border="0" cellpadding="0" cellspacing="0">

  <tbody>
    <tr>
      <td style="vertical-align: top; width: 250px;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      <div style="text-align: center;"><span style="font-style: italic; font-family: Calibri;">Map 1: Mapbox Studio</span><br>
      <br>
      </div>
      </td>
      <td style="vertical-align: top;"><br>
      <div style="text-align: center;"><span style="font-style: italic; font-family: Calibri;">Map 2: Mapbox Studio
and GL JS</span><br>
      <br>
      </div>
      </td>
    </tr>
  </tbody>
</table>

<br>

<br>

</body></html>